# Prompt Factory: A Framework for Agentic Prompt Engineering

This repository provides a structured framework for rapidly designing, testing, and generating complex prompts for multiple AI agents (Gemini, ChatGPT, etc.) and for various stages of a project's lifecycle. It is a **Prompt IDE** designed to accelerate your ideation-to-development workflow.

## The Core Idea: The Prompt Factory

This framework treats prompt engineering like a manufacturing process. You create a library of reusable **components**, define different **recipes** for combining them, and use a **factory script** to assemble the final prompts.

1. **Components (`components/`):** A library of reusable, modular prompt snippets. These can be generic (like a persona) or specific to an AI target (like Gemini's tool definitions vs. ChatGPT's plugin descriptions).
2. **Projects (`projects/`):** Each subdirectory represents one of your app ideas (e.g., `partyvenue_planner`). Inside, you can store project-specific components and, most importantly, multiple "recipes."
3. **Recipes (`config_[recipe_name].json`):** These are the heart of the system. A recipe is a JSON file that defines which components to assemble for a specific task. For a single project, you can have multiple recipes: `config_scaffold.json`, `config_add_feature.json`, `config_for_chatgpt.json`, etc.
4. **The Factory (`assemble_prompt.py`):** This is the core script that reads a recipe, assembles the components, and generates the final prompt.
5. **The Automation (`prepare_agent.bat`/`.sh`):** These master scripts automate the entire two-phase process of generating a project blueprint (`AGENTIC_HANDOFF.md`) and the agent's final instructions (`GEMINI.md`) with a single command.

## 🚀 The Workflow

1. **Define Components:** Create or modify the markdown files in `components/` and within specific `projects/` directories.
2. **Create a Recipe:** For a project in the `projects/` directory, create a `config_[recipe_name].json` file. List the components you want to assemble for that specific task.
3. **Prepare the Agent:** Run the master script to generate the `AGENTIC_HANDOFF.md` and the final `GEMINI.md` for your chosen project and recipe.
4. **Execute:** Use the generated `GEMINI.md` file to run your target AI agent.

## 📂 Directory Structure

```plaintext
.
├── README.md
├── assemble_prompt.py
├── prepare_agent.bat
├── components/
│   └── ...
├── projects/
│   └── [your_project]/
│       ├── config_[recipe_name].json
│       └── ... (project-specific components)
├── meta/
│   └── spec_writer/
│       └── config.json
└── reference_prompts/
    └── ...
```

## ⚙️ Usage: The `prepare_agent` Command

This is the primary command for the framework. It prepares everything you need to run an agent for a specific task.

### How it Works

The script takes a **project name** and a **recipe name** as arguments. It then:

1. Generates the `AGENTIC_HANDOFF.md` blueprint using the `meta/spec_writer` configuration.
2. Generates the final `GEMINI.md` instruction manual using the `projects/[project_name]/config_[recipe_name].json` file.

### Command

```bash
# On Windows
prepare_agent.bat [project_name] [recipe_name]

# On Linux/macOS
./prepare_agent.sh [project_name] [recipe_name]
```

### Example

To prepare the agent to perform the initial scaffold for the PartyVenue Planner project:

```bash
prepare_agent.bat partyvenue_planner scaffold
```

This will create `AGENTIC_HANDOFF.md` and `GEMINI.md` in your project root, ready for use.

## Available Projects

(This section is auto-generated by the `update_docs` script)

---

## Advanced Usage: `assemble_prompt.py`

For more direct control, you can use the `assemble_prompt.py` script. It supports templating with variables, schema validation, and an interactive mode. Run `python assemble_prompt.py -h` for more details.

## Key Feature Example: Resilient Logging

This framework is designed to build sophisticated agents. A key example of this is the resilient, dual-logging system demonstrated in the `partyvenue_planner` project. By combining component files, we instruct the agent to maintain both human-readable and machine-readable logs.

- **Human-Readable Logs (`agent_out_logs/`):** A directory of Markdown and JSON files that provide a high-level summary of the agent's progress, state, and any errors.
- **Machine-Readable Log (`task_log.json`):** A structured JSON file that allows a task to be resumed automatically after an interruption, preventing the agent from re-doing completed work.

This demonstrates how to use components to build complex, stateful behaviors into your agents.

## 🤝 Contributing

Contributions, issues, and feature requests are welcome! See the [CONTRIBUTING.md](CONTRIBUTING.md) file for details.

## 📄 License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details.
